function InitChart() {
                    


var data=[
 {
   "Skill": "HTML/CSS",
   "Year": 2004,
   "Value": 1
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2005,
   "Value": 3
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2006,
   "Value": 3
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2007,
   "Value": 4
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2008,
   "Value": 4
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2009,
   "Value": 4
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2010,
   "Value": 5
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2011,
   "Value": 5
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2012,
   "Value": 6
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2013,
   "Value": 6
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2014,
   "Value": 6
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2015,
   "Value": 6
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2016,
   "Value": 7
 },
 {
   "Skill": "HTML/CSS",
   "Year": 2017,
   "Value": 7
 },
 {
   "Skill": "Javascript",
   "Year": 2004,
   "Value": null
 },
 {
   "Skill": "Javascript",
   "Year": 2005,
   "Value": null
 },
 {
   "Skill": "Javascript",
   "Year": 2006,
   "Value": null
 },
 {
   "Skill": "Javascript",
   "Year": 2007,
   "Value": null
 },
 {
   "Skill": "Javascript",
   "Year": 2008,
   "Value": null
 },
 {
   "Skill": "Javascript",
   "Year": 2009,
   "Value": null
 },
 {
   "Skill": "Javascript",
   "Year": 2010,
   "Value": 1
 },
 {
   "Skill": "Javascript",
   "Year": 2011,
   "Value": 2
 },
 {
   "Skill": "Javascript",
   "Year": 2012,
   "Value": 3
 },
 {
   "Skill": "Javascript",
   "Year": 2013,
   "Value": 4
 },
 {
   "Skill": "Javascript",
   "Year": 2014,
   "Value": 4
 },
 {
   "Skill": "Javascript",
   "Year": 2015,
   "Value": 5
 },
 {
   "Skill": "Javascript",
   "Year": 2016,
   "Value": 6
 },
 {
   "Skill": "Javascript",
   "Year": 2017,
   "Value": 6
 },
 {
   "Skill": "AngularJS",
   "Year": 2004,
   "Value": null
 },
 {
   "Skill": "AngularJS",
   "Year": 2005,
   "Value": null
 },
 {
   "Skill": "AngularJS",
   "Year": 2006,
   "Value": null
 },
 {
   "Skill": "AngularJS",
   "Year": 2007,
   "Value": null
 },
 {
   "Skill": "AngularJS",
   "Year": 2008,
   "Value": null
 },
 {
   "Skill": "AngularJS",
   "Year": 2009,
   "Value": null
 },
 {
   "Skill": "AngularJS",
   "Year": 2010,
   "Value": null
 },
 {
   "Skill": "AngularJS",
   "Year": 2011,
   "Value": 1
 },
 {
   "Skill": "AngularJS",
   "Year": 2012,
   "Value": 3
 },
 {
   "Skill": "AngularJS",
   "Year": 2013,
   "Value": 5
 },
 {
   "Skill": "AngularJS",
   "Year": 2014,
   "Value": 5
 },
 {
   "Skill": "AngularJS",
   "Year": 2015,
   "Value": 5
 },
 {
   "Skill": "AngularJS",
   "Year": 2016,
   "Value": 5
 },
 {
   "Skill": "AngularJS",
   "Year": 2017,
   "Value": 6
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2004,
   "Value": null
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2005,
   "Value": null
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2006,
   "Value": null
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2007,
   "Value": null
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2008,
   "Value": null
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2009,
   "Value": null
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2010,
   "Value": null
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2011,
   "Value": null
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2012,
   "Value": 1
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2013,
   "Value": 3
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2014,
   "Value": 5
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2015,
   "Value": 5
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2016,
   "Value": 5
 },
 {
   "Skill": "Ionic Framework",
   "Year": 2017,
   "Value": 5
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2004,
   "Value": null
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2005,
   "Value": null
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2006,
   "Value": null
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2007,
   "Value": null
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2008,
   "Value": null
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2009,
   "Value": 1
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2010,
   "Value": 2
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2011,
   "Value": 3
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2012,
   "Value": 4
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2013,
   "Value": 5
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2014,
   "Value": 6
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2015,
   "Value": null
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2016,
   "Value": null
 },
 {
   "Skill": "Wordpress/PHP",
   "Year": 2017,
   "Value": null
 },
 {
   "Skill": "QA/Testing",
   "Year": 2004,
   "Value": 1
 },
 {
   "Skill": "QA/Testing",
   "Year": 2005,
   "Value": 3
 },
 {
   "Skill": "QA/Testing",
   "Year": 2006,
   "Value": 5
 },
 {
   "Skill": "QA/Testing",
   "Year": 2007,
   "Value": 5
 },
 {
   "Skill": "QA/Testing",
   "Year": 2008,
   "Value": 6
 },
 {
   "Skill": "QA/Testing",
   "Year": 2009,
   "Value": 8
 },
 {
   "Skill": "QA/Testing",
   "Year": 2010,
   "Value": 8
 },
 {
   "Skill": "QA/Testing",
   "Year": 2011,
   "Value": 8
 },
 {
   "Skill": "QA/Testing",
   "Year": 2012,
   "Value": 8
 },
 {
   "Skill": "QA/Testing",
   "Year": 2013,
   "Value": null
 },
 {
   "Skill": "QA/Testing",
   "Year": 2014,
   "Value": null
 },
 {
   "Skill": "QA/Testing",
   "Year": 2015,
   "Value": null
 },
 {
   "Skill": "QA/Testing",
   "Year": 2016,
   "Value": null
 },
 {
   "Skill": "QA/Testing",
   "Year": 2017,
   "Value": null
 },
 {
   "Skill": "Securty Testing",
   "Year": 2004,
   "Value": null
 },
 {
   "Skill": "Securty Testing",
   "Year": 2005,
   "Value": null
 },
 {
   "Skill": "Securty Testing",
   "Year": 2006,
   "Value": null
 },
 {
   "Skill": "Securty Testing",
   "Year": 2007,
   "Value": null
 },
 {
   "Skill": "Securty Testing",
   "Year": 2008,
   "Value": null
 },
 {
   "Skill": "Securty Testing",
   "Year": 2009,
   "Value": null
 },
 {
   "Skill": "Securty Testing",
   "Year": 2010,
   "Value": null
 },
 {
   "Skill": "Securty Testing",
   "Year": 2011,
   "Value": null
 },
 {
   "Skill": "Securty Testing",
   "Year": 2012,
   "Value": 1
 },
 {
   "Skill": "Securty Testing",
   "Year": 2013,
   "Value": 3
 },
 {
   "Skill": "Securty Testing",
   "Year": 2014,
   "Value": 5
 },
 {
   "Skill": "Securty Testing",
   "Year": 2015,
   "Value": null
 },
 {
   "Skill": "Securty Testing",
   "Year": 2016,
   "Value": null
 },
 {
   "Skill": "Securty Testing",
   "Year": 2017,
   "Value": null
 },
 {
   "Skill": "Joomla",
   "Year": 2004,
   "Value": null
 },
 {
   "Skill": "Joomla",
   "Year": 2005,
   "Value": 1
 },
 {
   "Skill": "Joomla",
   "Year": 2006,
   "Value": 2
 },
 {
   "Skill": "Joomla",
   "Year": 2007,
   "Value": 3
 },
 {
   "Skill": "Joomla",
   "Year": 2008,
   "Value": 4
 },
 {
   "Skill": "Joomla",
   "Year": 2009,
   "Value": 3
 },
 {
   "Skill": "Joomla",
   "Year": 2010,
   "Value": 0
 },
 {
   "Skill": "Joomla",
   "Year": 2011,
   "Value": null
 },
 {
   "Skill": "Joomla",
   "Year": 2012,
   "Value": null
 },
 {
   "Skill": "Joomla",
   "Year": 2013,
   "Value": null
 },
 {
   "Skill": "Joomla",
   "Year": 2014,
   "Value": null
 },
 {
   "Skill": "Joomla",
   "Year": 2015,
   "Value": null
 },
 {
   "Skill": "Joomla",
   "Year": 2016,
   "Value": null
 },
 {
   "Skill": "Joomla",
   "Year": 2017,
   "Value": null
 },
 {
   "Skill": "SEO",
   "Year": 2004,
   "Value": null
 },
 {
   "Skill": "SEO",
   "Year": 2005,
   "Value": null
 },
 {
   "Skill": "SEO",
   "Year": 2006,
   "Value": 1
 },
 {
   "Skill": "SEO",
   "Year": 2007,
   "Value": 3
 },
 {
   "Skill": "SEO",
   "Year": 2008,
   "Value": 4
 },
 {
   "Skill": "SEO",
   "Year": 2009,
   "Value": 5
 },
 {
   "Skill": "SEO",
   "Year": 2010,
   "Value": 5
 },
 {
   "Skill": "SEO",
   "Year": 2011,
   "Value": 6
 },
 {
   "Skill": "SEO",
   "Year": 2012,
   "Value": 6
 },
 {
   "Skill": "SEO",
   "Year": 2013,
   "Value": 4
 },
 {
   "Skill": "SEO",
   "Year": 2014,
   "Value": null
 },
 {
   "Skill": "SEO",
   "Year": 2015,
   "Value": null
 },
 {
   "Skill": "SEO",
   "Year": 2016,
   "Value": null
 },
 {
   "Skill": "SEO",
   "Year": 2017,
   "Value": null
 },
 {
   "Skill": "Photoshop",
   "Year": 2004,
   "Value": 1
 },
 {
   "Skill": "Photoshop",
   "Year": 2005,
   "Value": 1
 },
 {
   "Skill": "Photoshop",
   "Year": 2006,
   "Value": 1
 },
 {
   "Skill": "Photoshop",
   "Year": 2007,
   "Value": 1
 },
 {
   "Skill": "Photoshop",
   "Year": 2008,
   "Value": 1
 },
 {
   "Skill": "Photoshop",
   "Year": 2009,
   "Value": 1
 },
 {
   "Skill": "Photoshop",
   "Year": 2010,
   "Value": 1
 },
 {
   "Skill": "Photoshop",
   "Year": 2011,
   "Value": 3
 },
 {
   "Skill": "Photoshop",
   "Year": 2012,
   "Value": 4
 },
 {
   "Skill": "Photoshop",
   "Year": 2013,
   "Value": 4
 },
 {
   "Skill": "Photoshop",
   "Year": 2014,
   "Value": 5
 },
 {
   "Skill": "Photoshop",
   "Year": 2015,
   "Value": 5
 },
 {
   "Skill": "Photoshop",
   "Year": 2016,
   "Value": 5
 },
 {
   "Skill": "Photoshop",
   "Year": 2017,
   "Value": 5
 },
 {
   "Skill": "SQL",
   "Year": 2004,
   "Value": null
 },
 {
   "Skill": "SQL",
   "Year": 2005,
   "Value": null
 },
 {
   "Skill": "SQL",
   "Year": 2006,
   "Value": null
 },
 {
   "Skill": "SQL",
   "Year": 2007,
   "Value": 1
 },
 {
   "Skill": "SQL",
   "Year": 2008,
   "Value": 2
 },
 {
   "Skill": "SQL",
   "Year": 2009,
   "Value": 2
 },
 {
   "Skill": "SQL",
   "Year": 2010,
   "Value": 3
 },
 {
   "Skill": "SQL",
   "Year": 2011,
   "Value": 3
 },
 {
   "Skill": "SQL",
   "Year": 2012,
   "Value": 4
 },
 {
   "Skill": "SQL",
   "Year": 2013,
   "Value": 5
 },
 {
   "Skill": "SQL",
   "Year": 2014,
   "Value": null
 },
 {
   "Skill": "SQL",
   "Year": 2015,
   "Value": null
 },
 {
   "Skill": "SQL",
   "Year": 2016,
   "Value": null
 },
 {
   "Skill": "SQL",
   "Year": 2017,
   "Value": null
 },
 {
   "Skill": "Interaction Design",
   "Year": 2004,
   "Value": null
 },
 {
   "Skill": "Interaction Design",
   "Year": 2005,
   "Value": null
 },
 {
   "Skill": "Interaction Design",
   "Year": 2006,
   "Value": null
 },
 {
   "Skill": "Interaction Design",
   "Year": 2007,
   "Value": null
 },
 {
   "Skill": "Interaction Design",
   "Year": 2008,
   "Value": null
 },
 {
   "Skill": "Interaction Design",
   "Year": 2009,
   "Value": null
 },
 {
   "Skill": "Interaction Design",
   "Year": 2010,
   "Value": null
 },
 {
   "Skill": "Interaction Design",
   "Year": 2011,
   "Value": 1
 },
 {
   "Skill": "Interaction Design",
   "Year": 2012,
   "Value": 3
 },
 {
   "Skill": "Interaction Design",
   "Year": 2013,
   "Value": 3
 },
 {
   "Skill": "Interaction Design",
   "Year": 2014,
   "Value": 4
 },
 {
   "Skill": "Interaction Design",
   "Year": 2015,
   "Value": 5
 },
 {
   "Skill": "Interaction Design",
   "Year": 2016,
   "Value": 6
 },
 {
   "Skill": "Interaction Design",
   "Year": 2017,
   "Value": 7
 },
 {
   "Skill": "Firebase",
   "Year": 2004,
   "Value": null
 },
 {
   "Skill": "Firebase",
   "Year": 2005,
   "Value": null
 },
 {
   "Skill": "Firebase",
   "Year": 2006,
   "Value": null
 },
 {
   "Skill": "Firebase",
   "Year": 2007,
   "Value": null
 },
 {
   "Skill": "Firebase",
   "Year": 2008,
   "Value": null
 },
 {
   "Skill": "Firebase",
   "Year": 2009,
   "Value": null
 },
 {
   "Skill": "Firebase",
   "Year": 2010,
   "Value": null
 },
 {
   "Skill": "Firebase",
   "Year": 2011,
   "Value": null
 },
 {
   "Skill": "Firebase",
   "Year": 2012,
   "Value": 1
 },
 {
   "Skill": "Firebase",
   "Year": 2013,
   "Value": 3
 },
 {
   "Skill": "Firebase",
   "Year": 2014,
   "Value": 5
 },
 {
   "Skill": "Firebase",
   "Year": 2015,
   "Value": 5
 },
 {
   "Skill": "Firebase",
   "Year": 2016,
   "Value": 5
 },
 {
   "Skill": "Firebase",
   "Year": 2017,
   "Value": 6
 }
]









                    var dataGroup = d3.nest()
                        .key(function(d) {return d.Skill;})
                        .entries(data);
                    console.log(JSON.stringify(dataGroup));
                    var color = d3.scale.category10();
                    var vis = d3.select("#visualisation"),
                        WIDTH = $(window).width(),
                        HEIGHT = 400,
                        MARGINS = {
                            top: 50,
                            right: 20,
                            bottom: 50,
                            left: 50
                        },
                        lSpace = WIDTH/dataGroup.length;
                        xScale = d3.scale.linear().range([MARGINS.left, WIDTH - MARGINS.right]).domain([d3.min(data, function(d) {
                            return d.Year;
                        }), d3.max(data, function(d) {
                            return d.Year;
                        })]),
                        yScale = d3.scale.linear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([d3.min(data, function(d) {
                            return d.Value;
                        }), d3.max(data, function(d) {
                            return d.Value;
                        })]),
                        xAxis = d3.svg.axis()
                        .scale(xScale),
                        yAxis = d3.svg.axis()
                        .scale(yScale)
                        .orient("left");
                    
                    vis.append("svg:g")
                        .attr("class", "x axis")
                        .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                        .call(xAxis);
                    vis.append("svg:g")
                        .attr("class", "y axis")
                        .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                        .call(yAxis);
                        
                    var lineGen = d3.svg.line()
                        .x(function(d) {
                            return xScale(d.Year);
                        })
                        .y(function(d) {
                            return yScale(d.Value);
                        })
                        .interpolate("basis");
                    dataGroup.forEach(function(d,i) {
                        vis.append('svg:path')
                        .attr('d', lineGen(d.values))
                        .attr('stroke', function(d,j) { 
                                return "hsl(" + Math.random() * 360 + ",100%,50%)";
                        })
                        .attr('stroke-width', 2)
                        .attr('id', 'line_'+d.key)
                        .attr('fill', 'none');
                        vis.append("text")
                            .attr("x", (lSpace/2)+i*lSpace)
                            .attr("y", HEIGHT)
                            .style("fill", "black")
                            .attr("class","legend")
                            .on('click',function(){
                                var active   = d.active ? false : true;
                                var opacity = active ? 0 : 1;
                                d3.select("#line_" + d.key).style("opacity", opacity);
                                d.active = active;
                            })
                            .text(d.key);
                    });
                    
                }
                
                InitChart();

                